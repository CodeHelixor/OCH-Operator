@tailwind base;
@tailwind components;
@tailwind utilities;

/* ----- App background: use .app-background on root; image set via inline style in App.tsx ----- */
.app-background {
  background-size: cover;
  background-position: center;
  background-repeat: no-repeat;
  background-attachment: scroll;
}

@media (min-width: 1024px) {
  .app-background {
    background-attachment: fixed;
  }
}

/* ----- Typography: modern professional font ----- */
body {
  margin: 0;
  font-family: "Plus Jakarta Sans", ui-sans-serif, system-ui, -apple-system,
    BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  font-feature-settings: "cv02", "cv03", "cv04", "cv11";
  @apply text-slate-800;
  /* Fallback until app mounts; app root uses .app-background */
  background-color: #f8fafc;
}

/* Slightly tighter letter-spacing for headings */
h1, h2, h3, h4, h5, h6 {
  letter-spacing: -0.02em;
  font-weight: 600;
}

code {
  font-family: "JetBrains Mono", source-code-pro, Menlo, Monaco, Consolas,
    "Courier New", monospace;
}

/* ----- Shared modal: smooth, professional animations ----- */
.modal-overlay {
  @apply fixed inset-0 z-50 flex items-center justify-center;
  background: rgba(15, 23, 42, 0.52);
  backdrop-filter: blur(8px);
  -webkit-backdrop-filter: blur(8px);
  animation: modal-backdrop-in 0.28s cubic-bezier(0.32, 0.72, 0, 1) forwards;
}

.modal-content {
  @apply bg-white/70 rounded-2xl shadow-modal max-h-[90vh] overflow-y-auto;
  animation: modal-content-in 0.32s cubic-bezier(0.32, 0.72, 0, 1) forwards;
  will-change: transform, opacity;
}

/* ----- Shared buttons: smooth hover/active/focus transitions ----- */
@layer components {
  .btn-base {
    @apply inline-flex items-center justify-center font-semibold rounded-xl
           focus:outline-none focus:ring-2 focus:ring-offset-2
           disabled:opacity-60 disabled:pointer-events-none
           select-none;
    transition: transform 0.22s cubic-bezier(0.4, 0, 0.2, 1),
                box-shadow 0.22s cubic-bezier(0.4, 0, 0.2, 1),
                background-color 0.22s cubic-bezier(0.4, 0, 0.2, 1),
                color 0.22s cubic-bezier(0.4, 0, 0.2, 1),
                border-color 0.22s cubic-bezier(0.4, 0, 0.2, 1);
  }

  .btn-base:hover:not(:disabled) {
    transform: translateY(-1px);
  }

  .btn-base:active:not(:disabled) {
    transform: translateY(0) scale(0.98);
    transition-duration: 0.12s;
  }

  .btn-primary {
    @apply btn-base px-5 py-2.5 text-white bg-primary hover:bg-primary-hover
           focus:ring-primary shadow-sm;
  }

  .btn-primary:hover:not(:disabled) {
    box-shadow: 0 4px 12px -2px rgba(79, 70, 229, 0.35), 0 2px 6px -2px rgba(0, 0, 0, 0.08);
  }

  .btn-secondary {
    @apply btn-base px-5 py-2.5 text-slate-700 bg-slate-200 hover:bg-slate-300
           focus:ring-slate-400;
  }

  .btn-danger {
    @apply btn-base px-5 py-2.5 text-white bg-danger hover:bg-danger-hover
           focus:ring-danger shadow-sm;
  }

  .btn-danger:hover:not(:disabled) {
    box-shadow: 0 4px 12px -2px rgba(220, 38, 38, 0.3), 0 2px 6px -2px rgba(0, 0, 0, 0.08);
  }
}

/* Smooth focus ring expansion (no jarring pop) */
.btn-base:focus-visible {
  transition: box-shadow 0.2s cubic-bezier(0.4, 0, 0.2, 1);
}

/* ----- Card / panel hover (subtle lift) ----- */
.card-interactive {
  transition: box-shadow 0.28s cubic-bezier(0.4, 0, 0.2, 1),
              transform 0.28s cubic-bezier(0.4, 0, 0.2, 1),
              border-color 0.28s cubic-bezier(0.4, 0, 0.2, 1);
}

.card-interactive:hover {
  box-shadow: 0 8px 24px -4px rgba(0, 0, 0, 0.08), 0 4px 12px -2px rgba(0, 0, 0, 0.04);
}

/* ----- Input focus: smooth ring ----- */
input:focus, select:focus, textarea:focus {
  transition: box-shadow 0.2s cubic-bezier(0.4, 0, 0.2, 1),
              border-color 0.2s cubic-bezier(0.4, 0, 0.2, 1);
}
